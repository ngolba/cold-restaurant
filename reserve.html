<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>Cold Restaurant Reservations - Make A Reservation</title>

	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
	<script src="https://code.jquery.com/jquery.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

</head>

<body>

	<div class="container">

		<div class="jumbotron">
			<h1 class="text-center">Cold Restaurant</h1>
			<hr>
			<h2 class="text-center">Make Your Reservation</h2>
			<br>

			<div class="text-center">
				<a href="/tables"><button type="button" class="btn btn-lg btn-info">View Tables</button></a>
				<a href="/"><button type="button" class="btn btn-lg btn-secondary">Home</button></a>
			</div>

		</div>

		<div class="card">
			<div class="card-header">
				Make A Reservation
			</div>
			<div class="card card-default">
				<div class="card-body">
					<form role="form">
						<div class="form-group row">
							<label for="name-input">Name:</label>
							<input class="form-control" id="name-input" type="text" required>
						</div>
						<div class="form-group row">
							<label for="phone-input">Phone Number</label>
							<input class="form-control" id="phone-input" type="text" required>
						</div>
						<div class="form-group row">
							<label for="email-input">Email:</label>
							<input class="form-control" id="email-input" type="email" required>
						</div>
						<div class="form-group row">
							<label for="id-input">Unique ID</label>
							<input class="form-control" id="id-input" type="text" required>
						</div><br>
						<button class="btn btn-block" id="add-reso" type="submit">Submit</button>
					</form>
				</div>
			</div>

			<footer class="footer">
				<div class="container">
					<p><a href="/api/tables">API Table Link</a> | <a href="/api/waitlist">API Wait List</a></p>
				</div>
			</footer>

		</div>

<script type="text/javascript">
	$('#add-reso').click((event) => {
		event.preventDefault();
		let newReso = {
			name: $('#name-input').val().trim(),
			phone: $('#phone-input').val().trim(),
			email: $('#email-input').val().trim(),
			id: $('#id-input').val().trim()
		};
		var currentURL = window.location.origin;
		console.log(newReso)
		$.post(currentURL + "/api/tables", newReso, function (data) {
			if (data) {
				console.log("You're Booked")
			} else {
				console.log("You did something wrong")
			}
		});
	})
</script>

</body>

</html>
